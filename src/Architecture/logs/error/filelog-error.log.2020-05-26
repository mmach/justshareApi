{"message":"json2xml is not defined","stack":"ReferenceError: json2xml is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:32:96\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:33:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:33:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:33:99\n    at MjmlCompileQuery.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:26:20)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T09:53:28.562Z"}
{"message":"Parsing failed. Check your mjml.","stack":"Error: Parsing failed. Check your mjml.\n    at MJMLParser (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\mjml-parser-xml\\lib\\index.js:327:11)\n    at mjml2html (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\mjml-core\\lib\\index.js:187:40)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:35:28\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T09:54:53.555Z"}
{"message":"modyMail is not defined","stack":"ReferenceError: modyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:34:13\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T09:55:58.657Z"}
{"message":"modyMail is not defined","stack":"ReferenceError: modyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:35:21\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T09:57:08.305Z"}
{"message":"modyMail is not defined","stack":"ReferenceError: modyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:35:21\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T09:58:39.540Z"}
{"message":"modyMail is not defined","stack":"ReferenceError: modyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:36:21\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T09:59:50.459Z"}
{"message":"bodyMail is not defined","stack":"ReferenceError: bodyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:32:79\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T12:43:01.270Z"}
{"message":"bodyMail is not defined","stack":"ReferenceError: bodyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:32:79\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T12:43:03.661Z"}
{"message":"bodyMail is not defined","stack":"ReferenceError: bodyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:32:79\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T12:43:27.874Z"}
{"message":"bodyMail is not defined","stack":"ReferenceError: bodyMail is not defined\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Common/mjmlCompileQuery.js:32:79\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Common\\mjmlCompileQuery.js:37:361","level":"error","timestamp":"2020-05-26T12:43:35.559Z"}
{"message":"this.entityDAO.upsert is not a function","stack":"TypeError: this.entityDAO.upsert is not a function\n    at MailTypesService.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseRepository.js:168:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:52:60\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:99\n    at UpsertMailTypeCommand.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:51:18)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T17:44:08.285Z"}
{"message":"this.entityDAO.upsert is not a function","stack":"TypeError: this.entityDAO.upsert is not a function\n    at MailTypesService.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseRepository.js:168:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:52:60\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:99\n    at UpsertMailTypeCommand.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:51:18)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T17:46:29.019Z"}
{"message":"this.entityDAO.upsert is not a function","stack":"TypeError: this.entityDAO.upsert is not a function\n    at MailTypesService.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseRepository.js:168:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:52:60\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:99\n    at UpsertMailTypeCommand.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:51:18)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T17:47:41.171Z"}
{"message":"this.entityDAO.upsert is not a function","stack":"TypeError: this.entityDAO.upsert is not a function\n    at MailTypesService.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseRepository.js:168:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:52:60\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:99\n    at UpsertMailTypeCommand.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:51:18)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T17:48:52.152Z"}
{"message":"this.entityDAO.upsert is not a function","stack":"TypeError: this.entityDAO.upsert is not a function\n    at MailTypesService.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseRepository.js:168:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:52:60\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:99\n    at UpsertMailTypeCommand.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:51:18)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T17:50:45.182Z"}
{"message":"this.entityDAO.upsert is not a function","stack":"TypeError: this.entityDAO.upsert is not a function\n    at MailTypesService.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseRepository.js:168:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:52:60\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeCommand.js:49:99\n    at UpsertMailTypeCommand.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeCommand.js:51:18)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T17:51:45.775Z"}
{"message":"Invalid column name 'sendgrid'.","stack":"SequelizeDatabaseError: Invalid column name 'sendgrid'.\n    at Query.formatError (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\sequelize\\lib\\dialects\\mssql\\query.js:315:12)\n    at Request.connection.lib.Request [as userCallback] (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\sequelize\\lib\\dialects\\mssql\\query.js:107:25)\n    at Request._this.callback (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\request.js:61:27)\n    at Connection.endOfMessageMarkerReceived (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\connection.js:1944:20)\n    at Connection.dispatchEvent (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\connection.js:1012:38)\n    at Parser.<anonymous> (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\connection.js:812:18)\n    at Parser.emit (events.js:182:13)\n    at Parser.EventEmitter.emit (domain.js:442:20)\n    at Parser.<anonymous> (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:54:15)\n    at Parser.emit (events.js:182:13)\n    at Parser.EventEmitter.emit (domain.js:442:20)\n    at addChunk (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_readable.js:291:12)\n    at readableAddChunk (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_readable.js:278:11)\n    at Parser.Readable.push (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_readable.js:245:10)\n    at Parser.Transform.push (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_transform.js:148:32)\n    at Parser.afterTransform (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_transform.js:91:10)\n    at Parser._transform (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\token\\stream-parser.js:69:9)\n    at Parser.Transform._read (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_transform.js:184:10)\n    at Parser.Transform._write (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_transform.js:172:83)\n    at doWrite (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_writable.js:428:64)\n    at writeOrBuffer (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_writable.js:417:5)\n    at Parser.Writable.write (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\node_modules\\readable-stream\\lib\\_stream_writable.js:334:11)\n    at Parser.addEndOfMessageMarker (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:80:26)\n    at Connection.message (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\connection.js:1935:32)\n    at Connection.dispatchEvent (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\connection.js:1012:38)\n    at MessageIO.<anonymous> (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\node_modules\\tedious\\lib\\connection.js:891:18)\n    at MessageIO.emit (events.js:182:13)\n    at MessageIO.EventEmitter.emit (domain.js:442:20)","name":"SequelizeDatabaseError","parent":{"message":"Invalid column name 'sendgrid'.","code":"EREQUEST","number":207,"state":1,"class":16,"serverName":"SQL6003","procName":"","lineNumber":1,"sql":"MERGE INTO [MailSenders] WITH(HOLDLOCK) AS [MailSenders_target] USING (VALUES(N'c627582b-ddb2-4794-bb94-622786bee4b4', N'22d65324-3ed0-46f0-bd69-307066ceee95', N'AUTHORIZATION_MAIL', N'Mail authorization for user', N'{\test\":1}', '2020-05-26 19:21:19.107 +00:00', '2020-05-26 19:21:19.107 +00:00')) AS [MailSenders_source]([id], [translation_id], [email], [password], [sendgrid], [created_at], [updated_at]) ON [MailSenders_target].[id] = [MailSenders_source].[id] WHEN MATCHED THEN UPDATE SET [MailSenders_target].[id] = N'c627582b-ddb2-4794-bb94-622786bee4b4', [MailSenders_target].[translation_id] = N'22d65324-3ed0-46f0-bd69-307066ceee95', [MailSenders_target].[email] = N'AUTHORIZATION_MAIL', [MailSenders_target].[password] = N'Mail authorization for user', [MailSenders_target].[sendgrid] = N'{\test\":1}', [MailSenders_target].[updated_at] = '2020-05-26 19:21:19.107 +00:00' WHEN NOT MATCHED THEN INSERT ([id], [translation_id], [email], [password], [sendgrid], [created_at], [updated_at]) VALUES(N'c627582b-ddb2-4794-bb94-622786bee4b4', N'22d65324-3ed0-46f0-bd69-307066ceee95', N'AUTHORIZATION_MAIL', N'Mail authorization for user', N'{\test\":1}', '2020-05-26 19:21:19.107 +00:00', '2020-05-26 19:21:19.107 +00:00') OUTPUT $action, INSERTED.*;"},"original":{"$ref":"$[\"parent\"]"},"sql":"MERGE INTO [MailSenders] WITH(HOLDLOCK) AS [MailSenders_target] USING (VALUES(N'c627582b-ddb2-4794-bb94-622786bee4b4', N'22d65324-3ed0-46f0-bd69-307066ceee95', N'AUTHORIZATION_MAIL', N'Mail authorization for user', N'{\test\":1}', '2020-05-26 19:21:19.107 +00:00', '2020-05-26 19:21:19.107 +00:00')) AS [MailSenders_source]([id], [translation_id], [email], [password], [sendgrid], [created_at], [updated_at]) ON [MailSenders_target].[id] = [MailSenders_source].[id] WHEN MATCHED THEN UPDATE SET [MailSenders_target].[id] = N'c627582b-ddb2-4794-bb94-622786bee4b4', [MailSenders_target].[translation_id] = N'22d65324-3ed0-46f0-bd69-307066ceee95', [MailSenders_target].[email] = N'AUTHORIZATION_MAIL', [MailSenders_target].[password] = N'Mail authorization for user', [MailSenders_target].[sendgrid] = N'{\test\":1}', [MailSenders_target].[updated_at] = '2020-05-26 19:21:19.107 +00:00' WHEN NOT MATCHED THEN INSERT ([id], [translation_id], [email], [password], [sendgrid], [created_at], [updated_at]) VALUES(N'c627582b-ddb2-4794-bb94-622786bee4b4', N'22d65324-3ed0-46f0-bd69-307066ceee95', N'AUTHORIZATION_MAIL', N'Mail authorization for user', N'{\test\":1}', '2020-05-26 19:21:19.107 +00:00', '2020-05-26 19:21:19.107 +00:00') OUTPUT $action, INSERTED.*;","level":"error","timestamp":"2020-05-26T19:21:19.357Z"}
{"message":"Cannot read property 'upsert' of undefined","stack":"TypeError: Cannot read property 'upsert' of undefined\n    at MailTypesProjectRepository.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseRepository.js:168:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseService.js:126:53\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseService.js:23:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseService.js:23:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseService.js:23:99\n    at MailTypesProjectService.upsert (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseService.js:125:40)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Commands/Mails/upsertMailTypeProjectCommand.js:59:67\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeProjectCommand.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Commands\\Mails\\upsertMailTypeProjectCommand.js:49:361","level":"error","timestamp":"2020-05-26T20:06:42.551Z"}
{"message":"transaction is not defined","stack":"ReferenceError: transaction is not defined\n    at MailTypesProjectRepository.getAll (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Repository/mailTypesProjectRepository.js:41:35)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Services/mailTypesProjectService.js:21:69\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Services\\mailTypesProjectService.js:19:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Services\\mailTypesProjectService.js:19:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Services\\mailTypesProjectService.js:19:99\n    at MailTypesProjectService.getAll (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Services/mailTypesProjectService.js:20:27)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Mails/getMailTypeProjectQuery.js:56:74\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Mails\\getMailTypeProjectQuery.js:49:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Mails\\getMailTypeProjectQuery.js:49:437\n    at new Promise (<anonymous>)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Query\\Mails\\getMailTypeProjectQuery.js:49:99\n    at GetMailTypeProjectQuery.action (C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Query/Mails/getMailTypeProjectQuery.js:53:18)\n    at C:/Programowanie/Private/stuffshare/src/JustShareApi/src/Architecture/baseInfrastructure.js:31:32\n    at Generator.next (<anonymous>)\n    at step (C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:191)\n    at C:\\Programowanie\\Private\\stuffshare\\src\\JustShareApi\\src\\Architecture\\baseInfrastructure.js:15:361","level":"error","timestamp":"2020-05-26T21:45:41.437Z"}
{"error":{"status":"200","message":{"pl":"Autentykacja projektu nie powiodła sie","us":"Authentication project failed","de":"Authentifizierung des Projektes nicht gelungen ist","ru":"Аутентификация проекта не удалась","fr":"L'authentification du projet a échoué","es":"La autenticación de un proyecto no tuvo éxito","no":"Godkjenning mislyktes prosjektet","zh_cn":"认证项目失败了"},"code":"AUTHORIZATION_PROJECT_ERROR","type":"ERROR","validations":[],"field":"","id":"875dbb5b-635a-4aa3-8b00-acae3dcfa126","uid":"","toRefresh":true},"level":"error","message":"","timestamp":"2020-05-26T21:46:36.827Z"}
{"error":{"status":"200","message":{"pl":"Autentykacja projektu nie powiodła sie","us":"Authentication project failed","de":"Authentifizierung des Projektes nicht gelungen ist","ru":"Аутентификация проекта не удалась","fr":"L'authentification du projet a échoué","es":"La autenticación de un proyecto no tuvo éxito","no":"Godkjenning mislyktes prosjektet","zh_cn":"认证项目失败了"},"code":"AUTHORIZATION_PROJECT_ERROR","type":"ERROR","validations":[],"field":"","id":"875dbb5b-635a-4aa3-8b00-acae3dcfa126","uid":"","toRefresh":true},"level":"error","message":"","timestamp":"2020-05-26T21:47:17.329Z"}
{"error":{"status":"200","message":{"pl":"Autentykacja projektu nie powiodła sie","us":"Authentication project failed","de":"Authentifizierung des Projektes nicht gelungen ist","ru":"Аутентификация проекта не удалась","fr":"L'authentification du projet a échoué","es":"La autenticación de un proyecto no tuvo éxito","no":"Godkjenning mislyktes prosjektet","zh_cn":"认证项目失败了"},"code":"AUTHORIZATION_PROJECT_ERROR","type":"ERROR","validations":[],"field":"","id":"875dbb5b-635a-4aa3-8b00-acae3dcfa126","uid":"","toRefresh":true},"level":"error","message":"","timestamp":"2020-05-26T21:47:43.552Z"}
{"error":{"status":"200","message":{"pl":"Autentykacja projektu nie powiodła sie","us":"Authentication project failed","de":"Authentifizierung des Projektes nicht gelungen ist","ru":"Аутентификация проекта не удалась","fr":"L'authentification du projet a échoué","es":"La autenticación de un proyecto no tuvo éxito","no":"Godkjenning mislyktes prosjektet","zh_cn":"认证项目失败了"},"code":"AUTHORIZATION_PROJECT_ERROR","type":"ERROR","validations":[],"field":"","id":"875dbb5b-635a-4aa3-8b00-acae3dcfa126","uid":"","toRefresh":true},"level":"error","message":"","timestamp":"2020-05-26T21:51:10.929Z"}
